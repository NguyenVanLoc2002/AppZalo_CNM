{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { useState } from \"react\";\nimport Toast from \"react-native-toast-message\";\nimport axiosInstance from \"../api/axiosInstance\";\nvar useChangePw = function useChangePw() {\n  var showToastSuccess = function showToastSuccess(notice) {\n    Toast.show({\n      text1: notice,\n      type: \"success\",\n      topOffset: 0,\n      position: \"top\"\n    });\n  };\n  var showToastError = function showToastError(notice) {\n    Toast.show({\n      text1: notice,\n      type: \"error\",\n      topOffset: 0,\n      position: \"top\"\n    });\n  };\n  var changePassword = function () {\n    var _ref = _asyncToGenerator(function* (oldPassword, newPassword) {\n      try {\n        console.log(oldPassword, newPassword);\n        var response = yield axiosInstance.post(\"/auth/change-password\", {\n          oldPassword: oldPassword,\n          newPassword: newPassword\n        });\n        if (response.status === 403) {\n          return false;\n        } else if (response.status === 400) {\n          return false;\n        } else if (response.status === 200) {\n          return true;\n        } else {\n          showToastError(\"Failed to change password\");\n          return false;\n        }\n      } catch (error) {\n        console.log(error);\n        showToastError(error.response.data.message);\n        return false;\n      }\n    });\n    return function changePassword(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return {\n    showToastSuccess: showToastSuccess,\n    showToastError: showToastError,\n    changePassword: changePassword\n  };\n};\nexport default useChangePw;","map":{"version":3,"names":["useState","Toast","axiosInstance","useChangePw","showToastSuccess","notice","show","text1","type","topOffset","position","showToastError","changePassword","_ref","_asyncToGenerator","oldPassword","newPassword","console","log","response","post","status","error","data","message","_x","_x2","apply","arguments"],"sources":["D:/NodeJS/ZaloFake/Frontend/Mobile/zalofake/src/hooks/useChangePw.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport Toast from \"react-native-toast-message\";\r\nimport axiosInstance from \"../api/axiosInstance\";\r\n\r\nconst useChangePw = () => {\r\n\r\n    const showToastSuccess = (notice) => {\r\n        Toast.show({\r\n            text1: notice,\r\n            type: \"success\",\r\n            topOffset: 0,\r\n            position: \"top\",\r\n        });\r\n    };\r\n    const showToastError = (notice) => {\r\n        Toast.show({\r\n            text1: notice,\r\n            type: \"error\",\r\n            topOffset: 0,\r\n            position: \"top\",\r\n        });\r\n    }\r\n    \r\n    const changePassword = async (oldPassword, newPassword) => {\r\n        try {\r\n            console.log(oldPassword, newPassword)\r\n            const response = await axiosInstance.post(\"/auth/change-password\", {\r\n                oldPassword, newPassword,\r\n            });\r\n            if (response.status === 403) {\r\n                return false;\r\n            }\r\n            else if(response.status === 400){\r\n                return false;\r\n            }\r\n            else if (response.status === 200) {\r\n                return true;\r\n            } else {\r\n                showToastError(\"Failed to change password\")\r\n                return false;\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            showToastError(error.response.data.message);\r\n            return false;\r\n        }\r\n\r\n    };\r\n\r\n    return { showToastSuccess, showToastError, changePassword }\r\n}\r\n\r\nexport default useChangePw;"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,4BAA4B;AAC9C,OAAOC,aAAa;AAEpB,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;EAEtB,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,MAAM,EAAK;IACjCJ,KAAK,CAACK,IAAI,CAAC;MACPC,KAAK,EAAEF,MAAM;MACbG,IAAI,EAAE,SAAS;MACfC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE;IACd,CAAC,CAAC;EACN,CAAC;EACD,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAIN,MAAM,EAAK;IAC/BJ,KAAK,CAACK,IAAI,CAAC;MACPC,KAAK,EAAEF,MAAM;MACbG,IAAI,EAAE,OAAO;MACbC,SAAS,EAAE,CAAC;MACZC,QAAQ,EAAE;IACd,CAAC,CAAC;EACN,CAAC;EAED,IAAME,cAAc;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,WAAW,EAAEC,WAAW,EAAK;MACvD,IAAI;QACAC,OAAO,CAACC,GAAG,CAACH,WAAW,EAAEC,WAAW,CAAC;QACrC,IAAMG,QAAQ,SAASjB,aAAa,CAACkB,IAAI,CAAC,uBAAuB,EAAE;UAC/DL,WAAW,EAAXA,WAAW;UAAEC,WAAW,EAAXA;QACjB,CAAC,CAAC;QACF,IAAIG,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;UACzB,OAAO,KAAK;QAChB,CAAC,MACI,IAAGF,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAC;UAC5B,OAAO,KAAK;QAChB,CAAC,MACI,IAAIF,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;UAC9B,OAAO,IAAI;QACf,CAAC,MAAM;UACHV,cAAc,CAAC,2BAA2B,CAAC;UAC3C,OAAO,KAAK;QAChB;MAEJ,CAAC,CAAC,OAAOW,KAAK,EAAE;QACZL,OAAO,CAACC,GAAG,CAACI,KAAK,CAAC;QAClBX,cAAc,CAACW,KAAK,CAACH,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAC;QAC3C,OAAO,KAAK;MAChB;IAEJ,CAAC;IAAA,gBAzBKZ,cAAcA,CAAAa,EAAA,EAAAC,GAAA;MAAA,OAAAb,IAAA,CAAAc,KAAA,OAAAC,SAAA;IAAA;EAAA,GAyBnB;EAED,OAAO;IAAExB,gBAAgB,EAAhBA,gBAAgB;IAAEO,cAAc,EAAdA,cAAc;IAAEC,cAAc,EAAdA;EAAe,CAAC;AAC/D,CAAC;AAED,eAAeT,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}